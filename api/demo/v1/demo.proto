syntax = "proto3";

package demo;

// DemoService 정의
service DemoService {
    rpc SayHello (HelloRequest) returns (HelloReply);
    rpc GetStatus (StatusRequest) returns (StatusReply);
    rpc StreamMessages (StreamRequest) returns (stream StreamResponse);
}

// 요청 메시지들
message HelloRequest {
    string name = 1;
    int32 age = 2;
    repeated string interests = 3;
}

message StatusRequest {
    string service_name = 1;
}

message StreamRequest {
    string topic = 1;
    int32 count = 2;
}

// 응답 메시지들
message HelloReply {
    string message = 1;
    int64 timestamp = 2;
    string server_id = 3;
}

message StatusReply {
    string status = 1;
    string version = 2;
    int64 uptime_seconds = 3;
    int32 active_connections = 4;
}

message StreamResponse {
    string data = 1;
    int32 sequence = 2;
    int64 timestamp = 3;
}
